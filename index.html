<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5í˜•ì‹ ëª©ì ë³´ì–´ í›ˆë ¨ì†Œ (ë§ˆì¸ë“œë§µ ì™„ë²½ ì ìš© + 200ì œ ë¬¸ì œì€í–‰)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Pretendard', 'Malgun Gothic', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            padding: 40px;
            width: 100%;
            max-width: 650px;
            position: relative;
        }
        
        #set-selection { text-align: center; }
        .set-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        .set-btn {
            background-color: #f1f5f9;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            font-size: 1.1em;
            font-weight: bold;
            color: #334155;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .set-btn:hover { background-color: #e2e8f0; border-color: #cbd5e0; transform: translateY(-2px); }
        .set-desc { font-size: 0.85em; color: #ef4444; font-weight: bold; background-color: #fee2e2; padding: 4px 10px; border-radius: 20px;}
        
        #quiz-screen, #result-screen { display: none; }
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .question-type {
            font-size: 0.9em;
            color: #2563eb;
            background-color: #dbeafe;
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 700;
        }
        
        .timer-wrapper {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        .time-text {
            font-size: 1.5em;
            font-weight: 800;
            color: #0f172a;
            min-width: 50px;
        }
        .time-text.warning { color: #ea580c; }
        .time-text.danger { color: #dc2626; animation: pulse 1s infinite; }
        .timer-container {
            flex-grow: 1;
            height: 10px;
            background-color: #e2e8f0;
            border-radius: 5px;
            overflow: hidden;
        }
        .timer-bar {
            height: 100%;
            background-color: #10b981;
            width: 100%;
            transition: width 1s linear, background-color 0.3s;
        }
        .timer-bar.warning { background-color: #f59e0b; }
        .timer-bar.danger { background-color: #ef4444; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        .question-text {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 25px;
            line-height: 1.5;
            white-space: pre-wrap;
        }
        .options-grid { display: flex; flex-direction: column; gap: 10px; }
        .option-btn {
            background-color: #fff;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            font-size: 1.05em;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            color: #1e293b;
        }
        .option-btn:hover:not(:disabled) { border-color: #3b82f6; background-color: #eff6ff; }
        .option-btn.correct { background-color: #d1fae5; border-color: #10b981; color: #065f46; font-weight: bold; }
        .option-btn.wrong { background-color: #fee2e2; border-color: #ef4444; color: #991b1b; }
        .option-btn:disabled { cursor: not-allowed; }
        
        .feedback-box {
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.4s;
        }

        .feedback-title { font-size: 1.3em; font-weight: 800; margin-bottom: 15px; }
        .explanation-box {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            line-height: 1.5;
            font-size: 0.95em;
            text-align: left;
        }
        .exp-translate { background-color: #f1f5f9; color: #334155; border: 1px solid #cbd5e0; }
        .exp-wrong { background-color: #fef2f2; color: #991b1b; border: 1px solid #fecaca; }
        .exp-correct { background-color: #f0fdf4; color: #166534; border: 1px solid #bbf7d0; }
        
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        .action-btn {
            flex: 1;
            background-color: #2563eb;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        .action-btn:hover { background-color: #1d4ed8; transform: translateY(-2px); }
        .action-btn.secondary { background-color: #64748b; }
        .action-btn.secondary:hover { background-color: #475569; }
        .action-btn.review { background-color: #ea580c; }
        .action-btn.review:hover { background-color: #c2410c; }
        .action-btn.danger { background-color: #ef4444; }
        .action-btn.danger:hover { background-color: #dc2626; }
        
        #review-controls {
            display: none; 
            flex-direction: column; 
            gap: 10px; 
            margin-top: 25px;
        }
        
        #next-btn { display: none; width: 100%; margin-top: 20px; }

        #quit-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #ef4444;
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 30px;
            font-size: 1.05em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
            transition: all 0.2s;
            display: none; 
            z-index: 1000;
        }
        #quit-btn:hover {
            background-color: #dc2626;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.6);
        }

        .charts-wrapper {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 25px 0;
            gap: 20px;
            height: 220px;
        }
        .chart-box {
            flex: 1;
            height: 100%;
            position: relative;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        
        @media (max-width: 600px) {
            #quit-btn { bottom: 20px; right: 20px; padding: 12px 20px; font-size: 0.95em; }
            .charts-wrapper { flex-direction: column; height: 400px; }
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <div id="set-selection">
        <h1 style="color: #1e40af; margin-bottom: 5px;">5í˜•ì‹ ëª©ì ë³´ì–´ í›ˆë ¨ì†Œ</h1>
        <p style="color: #64748b; margin-bottom: 30px;">ë¬¸ì œì€í–‰ì—ì„œ ë¬´ì‘ìœ„ë¡œ 10ë¬¸ì œì”© ì¶œì œë©ë‹ˆë‹¤!</p>
        
        <div class="set-grid" id="set-buttons"></div>
        
        <div id="review-controls">
            <button class="action-btn review" onclick="startMainReview()">
                ğŸ“ ëˆ„ì  ì˜¤ë‹µ ë…¸íŠ¸ í’€ê¸° (<span id="wrong-count">0</span>ë¬¸ì œ)
            </button>
            <button class="action-btn danger" style="padding: 12px; font-size: 1em;" onclick="resetWrongAnswers()">
                ğŸ—‘ï¸ ì˜¤ë‹µ ê¸°ë¡ ì´ˆê¸°í™”
            </button>
        </div>
    </div>

    <div id="quiz-screen">
        <div class="quiz-header">
            <span class="question-type" id="q-type">ìœ í˜•</span>
            <span id="q-progress" style="font-weight: bold; color: #475569;">1 / 10</span>
        </div>
        
        <div class="timer-wrapper">
            <div class="time-text" id="time-text">15ì´ˆ</div>
            <div class="timer-container"><div class="timer-bar" id="timer-bar"></div></div>
        </div>

        <div class="question-text" id="q-text">ì§ˆë¬¸</div>
        <div class="options-grid" id="options-container"></div>
        <div class="feedback-box" id="feedback"></div>
        <button class="action-btn" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œë¡œ â”</button>
    </div>

    <div id="result-screen" style="text-align: center;">
        <h2 style="font-size: 2.2em; color: #1e40af; margin-bottom: 10px;" id="result-title">í›ˆë ¨ ì™„ë£Œ!</h2>
        <p id="final-score" style="font-size: 1.4em; font-weight: bold; margin-bottom: 10px;"></p>
        
        <div class="charts-wrapper">
            <div class="chart-box">
                <canvas id="donutChart"></canvas>
            </div>
            <div class="chart-box">
                <canvas id="barChart"></canvas>
            </div>
        </div>

        <p id="result-msg" style="color: #64748b; margin-bottom: 30px; line-height: 1.5;"></p>
        <div class="btn-group">
            <button class="action-btn secondary" onclick="goToMain()">ë©”ì¸ ë©”ë‰´ë¡œ</button>
            <button class="action-btn review" id="review-btn" onclick="startReview()" style="display:none;">ğŸ“ ë°©ê¸ˆ í‹€ë¦° ë¬¸ì œ ë³µìŠµ</button>
        </div>
    </div>
</div>

<button id="quit-btn" onclick="quitQuiz()">ì¢…ë£Œ ğŸšª</button>

<script>
    // ë¬¸ì¥ì„ ìì—°ìŠ¤ëŸ½ê³  ê³ ìœ í•˜ê²Œ ìƒì„±í•˜ê¸° ìœ„í•œ ì£¼ì–´, ë¶€ì‚¬ ì¡°í•©
    const variations = [
        { s_en: "My father", s_ko: "ë‚˜ì˜ ì•„ë²„ì§€ëŠ”", c_en: "yesterday", c_ko: "ì–´ì œ" },
        { s_en: "The teacher", s_ko: "ì„ ìƒë‹˜ì€", c_en: "sincerely", c_ko: "ì§„ì‹¬ìœ¼ë¡œ" },
        { s_en: "The manager", s_ko: "ë§¤ë‹ˆì €ëŠ”", c_en: "immediately", c_ko: "ì¦‰ì‹œ" },
        { s_en: "My friend", s_ko: "ë‚´ ì¹œêµ¬ëŠ”", c_en: "unexpectedly", c_ko: "ëœ»ë°–ì—" },
        { s_en: "The boss", s_ko: "ì‚¬ì¥ì€", c_en: "firmly", c_ko: "ë‹¨í˜¸í•˜ê²Œ" },
        { s_en: "The coach", s_ko: "ì½”ì¹˜ëŠ”", c_en: "finally", c_ko: "ë§ˆì¹¨ë‚´" },
        { s_en: "The director", s_ko: "ê°ë…ì€", c_en: "quietly", c_ko: "ì¡°ìš©íˆ" },
        { s_en: "The officer", s_ko: "ê²½ì°°ê´€ì€", c_en: "carefully", c_ko: "ì£¼ì˜ ê¹Šê²Œ" },
        { s_en: "The expert", s_ko: "ì „ë¬¸ê°€ëŠ”", c_en: "gently", c_ko: "ë¶€ë“œëŸ½ê²Œ" },
        { s_en: "The leader", s_ko: "ë¦¬ë”ëŠ”", c_en: "in the end", c_ko: "ê²°êµ­" }
    ];

    const baseSets = [
        // Set 1: ëª…ì‚¬/í˜•ìš©ì‚¬ ë³´ì–´ & toë¶€ì •ì‚¬ ëª©ì ë³´ì–´ (150ì œ = ì›ë³¸ 20 + ìƒì„± 130)
        [
            // ì›ë³¸ 20ì œ (ì§€ì •ëœ ë™ì‚¬ë§Œ ì‚¬ìš©ë¨: name, call, make, keep, find, want, allow, ask, tell, order, advise)
            { type: "ëª…ì‚¬ ë³´ì–´ (name)", question: "The committee named him ________.", translation: "ìœ„ì›íšŒëŠ” ê·¸ë¥¼ íšŒì¥ìœ¼ë¡œ ì„ëª…í–ˆë‹¤.", options: [ { text: "president", isCorrect: true, explanation: "ë™ì‚¬ nameì€ ëª©ì ë³´ì–´ë¡œ ëª…ì‚¬ë¥¼ ë°”ë¡œ ì·¨í•©ë‹ˆë‹¤." }, { text: "as president", isCorrect: false, explanation: "[ì£¼ì˜] nameì€ ë³´ì–´ ì•ì— asë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "to president", isCorrect: false, explanation: "[ì£¼ì˜] nameì€ ë³´ì–´ ì•ì— toë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "be president", isCorrect: false, explanation: "beë™ì‚¬ë¥¼ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ëª…ì‚¬ ë³´ì–´ (call)", question: "People call the big dog ________.", translation: "ì‚¬ëŒë“¤ì€ ê·¸ í° ê°œë¥¼ ê³°ì´ë¼ê³  ë¶€ë¥¸ë‹¤.", options: [ { text: "a bear", isCorrect: true, explanation: "ë™ì‚¬ callì€ ëª©ì ë³´ì–´ë¡œ ëª…ì‚¬ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "as a bear", isCorrect: false, explanation: "[ì£¼ì˜] callì€ ë³´ì–´ ì•ì— asë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "to a bear", isCorrect: false, explanation: "toëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." }, { text: "be a bear", isCorrect: false, explanation: "beë™ì‚¬ëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." } ] },
            { type: "ëª…ì‚¬ ë³´ì–´ (make)", question: "Her effort made her ________.", translation: "ê·¸ë…€ì˜ ë…¸ë ¥ì€ ê·¸ë…€ë¥¼ ìŠ¤íƒ€ë¡œ ë§Œë“¤ì—ˆë‹¤.", options: [ { text: "a star", isCorrect: true, explanation: "makeëŠ” ëª©ì ë³´ì–´ë¡œ ëª…ì‚¬ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." }, { text: "as a star", isCorrect: false, explanation: "[ì£¼ì˜] makeëŠ” ë³´ì–´ ì•ì— asë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "to a star", isCorrect: false, explanation: "toëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." }, { text: "be a star", isCorrect: false, explanation: "beë™ì‚¬ëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." } ] },
            { type: "í˜•ìš©ì‚¬ ë³´ì–´ (make)", question: "The good news made me ________.", translation: "ê·¸ ì¢‹ì€ ì†Œì‹ì€ ë‚˜ë¥¼ í–‰ë³µí•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.", options: [ { text: "happy", isCorrect: true, explanation: "ìƒíƒœë¥¼ ì„¤ëª…í•  ë•ŒëŠ” í˜•ìš©ì‚¬ ë³´ì–´ë¥¼ ì”ë‹ˆë‹¤." }, { text: "happily", isCorrect: false, explanation: "[ì£¼ì˜] ë³´ì–´ ìë¦¬ì— ë¶€ì‚¬(ly)ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "to be happy", isCorrect: false, explanation: "to beëŠ” ìƒëµí•˜ê³  í˜•ìš©ì‚¬ë§Œ ì”ë‹ˆë‹¤." }, { text: "be happy", isCorrect: false, explanation: "[ì£¼ì˜] beë™ì‚¬ ì›í˜•ì„ í•¨ê»˜ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "í˜•ìš©ì‚¬ ë³´ì–´ (keep)", question: "This coat will keep you ________.", translation: "ì´ ì½”íŠ¸ê°€ ë‹¹ì‹ ì„ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•´ ì¤„ ê²ƒì…ë‹ˆë‹¤.", options: [ { text: "warm", isCorrect: true, explanation: "ë™ì‚¬ keepì€ ëª©ì ì–´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í˜•ìš©ì‚¬ ë³´ì–´ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "warmly", isCorrect: false, explanation: "[ì£¼ì˜] ë³´ì–´ ìë¦¬ì— ë¶€ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "to warm", isCorrect: false, explanation: "í˜•ìš©ì‚¬ê°€ ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤." }, { text: "be warm", isCorrect: false, explanation: "[ì£¼ì˜] beë™ì‚¬ë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "í˜•ìš©ì‚¬ ë³´ì–´ (find)", question: "I found the movie very ________.", translation: "ë‚˜ëŠ” ê·¸ ì˜í™”ê°€ ë§¤ìš° í¥ë¯¸ë¡­ë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.", options: [ { text: "interesting", isCorrect: true, explanation: "findëŠ” ëª©ì ë³´ì–´ë¡œ í˜•ìš©ì‚¬(ë¶„ì‚¬)ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "interestingly", isCorrect: false, explanation: "[ì£¼ì˜] ë¶€ì‚¬ëŠ” ë³´ì–´ê°€ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "to be interestingly", isCorrect: false, explanation: "ë¶€ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." }, { text: "interest", isCorrect: false, explanation: "ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶„ì‚¬ í˜•íƒœê°€ í•„ìš”í•©ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (want)", question: "I want you ________ the door.", translation: "ë‚˜ëŠ” ë„¤ê°€ ë¬¸ì„ ì—´ê¸°ë¥¼ ì›í•œë‹¤.", options: [ { text: "to open", isCorrect: true, explanation: "wantëŠ” ëª©ì ë³´ì–´ë¡œ 'to + ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "open", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì€ ì•ˆ ë©ë‹ˆë‹¤." }, { text: "opening", isCorrect: false, explanation: "V-ingëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "opened", isCorrect: false, explanation: "ìˆ˜ë™ì˜ ì˜ë¯¸ê°€ ì•„ë‹ˆë¯€ë¡œ í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (allow)", question: "She allowed me ________ early.", translation: "ê·¸ë…€ëŠ” ë‚´ê°€ ì¼ì° ë– ë‚˜ëŠ” ê²ƒì„ í—ˆë½í–ˆë‹¤.", options: [ { text: "to leave", isCorrect: true, explanation: "allowëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "leave", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì€ ì•ˆ ë©ë‹ˆë‹¤." }, { text: "leaving", isCorrect: false, explanation: "V-ingëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "left", isCorrect: false, explanation: "ê³¼ê±°í˜•ì´ë‚˜ ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (ask)", question: "He asked his friend ________ him.", translation: "ê·¸ëŠ” ì¹œêµ¬ì—ê²Œ ìê¸°ë¥¼ ë„ì™€ë‹¬ë¼ê³  ìš”ì²­í–ˆë‹¤.", options: [ { text: "to help", isCorrect: true, explanation: "askëŠ” 5í˜•ì‹ì—ì„œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "help", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "helping", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "helped", isCorrect: false, explanation: "ìˆ˜ë™ì´ ì•„ë‹ˆë¯€ë¡œ í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (tell)", question: "The teacher told us ________ quiet.", translation: "ì„ ìƒë‹˜ì€ ìš°ë¦¬ì—ê²Œ ì¡°ìš©íˆ í•˜ë¼ê³  ë§ì”€í•˜ì…¨ë‹¤.", options: [ { text: "to be", isCorrect: true, explanation: "tellì€ ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "be", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "being", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "been", isCorrect: false, explanation: "í‹€ë¦° í˜•íƒœì…ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (order)", question: "The general ordered them ________.", translation: "ì¥êµ°ì€ ê·¸ë“¤ì—ê²Œ ê³µê²©í•˜ë¼ê³  ëª…ë ¹í–ˆë‹¤.", options: [ { text: "to attack", isCorrect: true, explanation: "orderëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "attack", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "attacking", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "attacked", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (advise)", question: "The doctor advised him ________ a rest.", translation: "ì˜ì‚¬ëŠ” ê·¸ì—ê²Œ íœ´ì‹ì„ ì·¨í•˜ë¼ê³  ì¡°ì–¸í–ˆë‹¤.", options: [ { text: "to take", isCorrect: true, explanation: "adviseëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "take", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "taking", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "taken", isCorrect: false, explanation: "ìˆ˜ë™íƒœ ë¬¸ë§¥ì´ ì•„ë‹™ë‹ˆë‹¤." } ] },
            { type: "ëª…ì‚¬ ë³´ì–´ (name)", question: "They named the ship ________.", translation: "ê·¸ë“¤ì€ ê·¸ ë°°ì˜ ì´ë¦„ì„ íƒ€ì´íƒ€ë‹‰ì´ë¼ê³  ì§€ì—ˆë‹¤.", options: [ { text: "Titanic", isCorrect: true, explanation: "nameì€ ëª…ì‚¬ ë³´ì–´ë¥¼ ë°”ë¡œ ì·¨í•©ë‹ˆë‹¤." }, { text: "as Titanic", isCorrect: false, explanation: "[ì£¼ì˜] asë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "to Titanic", isCorrect: false, explanation: "[ì£¼ì˜] toë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "be Titanic", isCorrect: false, explanation: "beë™ì‚¬ëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." } ] },
            { type: "ëª…ì‚¬ ë³´ì–´ (call)", question: "My friends call me ________.", translation: "ë‚´ ì¹œêµ¬ë“¤ì€ ë‚˜ë¥¼ ì²œì¬ë¼ê³  ë¶€ë¥¸ë‹¤.", options: [ { text: "Genius", isCorrect: true, explanation: "callì€ ëª…ì‚¬ë¥¼ ë°”ë¡œ ë³´ì–´ë¡œ ì·¨í•©ë‹ˆë‹¤." }, { text: "as Genius", isCorrect: false, explanation: "[ì£¼ì˜] asë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "to Genius", isCorrect: false, explanation: "toë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "be Genius", isCorrect: false, explanation: "beë™ì‚¬ëŠ” ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "í˜•ìš©ì‚¬ ë³´ì–´ (make)", question: "The noise made him ________.", translation: "ê·¸ ì†ŒìŒì€ ê·¸ë¥¼ í™”ë‚˜ê²Œ ë§Œë“¤ì—ˆë‹¤.", options: [ { text: "angry", isCorrect: true, explanation: "ìƒíƒœ ì„¤ëª…ì´ë¯€ë¡œ í˜•ìš©ì‚¬ê°€ ì˜µë‹ˆë‹¤." }, { text: "angrily", isCorrect: false, explanation: "[ì£¼ì˜] ë¶€ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "to angry", isCorrect: false, explanation: "toëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." }, { text: "be angry", isCorrect: false, explanation: "[ì£¼ì˜] beë™ì‚¬ë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "í˜•ìš©ì‚¬ ë³´ì–´ (keep)", question: "Please keep your room ________.", translation: "ë‹¹ì‹ ì˜ ë°©ì„ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ì„¸ìš”.", options: [ { text: "clean", isCorrect: true, explanation: "keepì˜ ëª©ì ë³´ì–´ë¡œ í˜•ìš©ì‚¬ cleanì´ ë§ìŠµë‹ˆë‹¤." }, { text: "cleanly", isCorrect: false, explanation: "[ì£¼ì˜] ë¶€ì‚¬ëŠ” ë³´ì–´ ìë¦¬ì— ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "to clean", isCorrect: false, explanation: "í˜•ìš©ì‚¬ ìƒíƒœê°€ ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤." }, { text: "cleaning", isCorrect: false, explanation: "ì¼ë°˜ í˜•ìš©ì‚¬ cleanì„ ì”ë‹ˆë‹¤." } ] },
            { type: "í˜•ìš©ì‚¬ ë³´ì–´ (find)", question: "We found the test ________.", translation: "ìš°ë¦¬ëŠ” ê·¸ ì‹œí—˜ì´ ì–´ë µë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.", options: [ { text: "difficult", isCorrect: true, explanation: "findì˜ ëª©ì ë³´ì–´ë¡œ í˜•ìš©ì‚¬ê°€ ì˜µë‹ˆë‹¤." }, { text: "difficultly", isCorrect: false, explanation: "[ì£¼ì˜] ë¶€ì‚¬ëŠ” ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "to difficult", isCorrect: false, explanation: "toëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤." }, { text: "be difficult", isCorrect: false, explanation: "[ì£¼ì˜] beë™ì‚¬ë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (want)", question: "I want my son ________ a doctor.", translation: "ë‚˜ëŠ” ë‚´ ì•„ë“¤ì´ ì˜ì‚¬ê°€ ë˜ê¸°ë¥¼ ì›í•œë‹¤.", options: [ { text: "to become", isCorrect: true, explanation: "wantëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "become", isCorrect: false, explanation: "ì›í˜•ì„ ì“°ë©´ ì•ˆ ë©ë‹ˆë‹¤." }, { text: "becoming", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "became", isCorrect: false, explanation: "ê³¼ê±°í˜•ì€ ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (tell)", question: "The mother told her child ________.", translation: "ì–´ë¨¸ë‹ˆëŠ” ì•„ì´ì—ê²Œ ë›°ì§€ ë§ë¼ê³  ë§í–ˆë‹¤.", options: [ { text: "not to run", isCorrect: true, explanation: "tellì€ toë¶€ì •ì‚¬ë¥¼ ì·¨í•˜ë©°, ë¶€ì •ì€ to ì•ì— notì„ ì”ë‹ˆë‹¤." }, { text: "to not run", isCorrect: false, explanation: "notì˜ ìœ„ì¹˜ëŠ” to ì•ì…ë‹ˆë‹¤." }, { text: "not run", isCorrect: false, explanation: "toê°€ í•„ìš”í•©ë‹ˆë‹¤." }, { text: "don't run", isCorrect: false, explanation: "í‹€ë¦° ë¬¸ë²•ì…ë‹ˆë‹¤." } ] },
            { type: "toë¶€ì •ì‚¬ (order)", question: "The manager ordered them ________ by today.", translation: "ë§¤ë‹ˆì €ëŠ” ê·¸ë“¤ì—ê²Œ ì˜¤ëŠ˜ê¹Œì§€ ì¼ì„ ëë‚´ë¼ê³  ì§€ì‹œí–ˆë‹¤.", options: [ { text: "to finish", isCorrect: true, explanation: "orderëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "finish", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "finishing", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "finished", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." } ] },
            
            // 130ì œ ë™ì  ìƒì„± (13ê°œ íŒ¨í„´ x 10ê°€ì§€ ì£¼ì–´/ìƒí™© = 130ë¬¸í•­, ì˜¤ì§ ì§€ì •ëœ ë™ì‚¬ë§Œ ì‚¬ìš©ë¨)
            ...Array.from({length: 130}).map((_, i) => {
                const varData = variations[Math.floor(i / 13) % 10];
                const types = [
                    { t: "toë¶€ì •ì‚¬ (expect)", q: `${varData.s_en} expected him ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ê°€ ì˜¤ê¸°ë¥¼ ê¸°ëŒ€í–ˆë‹¤.`, a: "to arrive", w1: "arrive", w2: "arriving", w3: "arrived", exp: "expectëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "í˜•ìš©ì‚¬ ë³´ì–´ (keep)", q: `${varData.s_en} kept the room ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ë°©ì„ ë”°ëœ»í•˜ê²Œ ìœ ì§€í–ˆë‹¤.`, a: "warm", w1: "warmly", w2: "to warm", w3: "warming", exp: "keepì€ ëª©ì ì–´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í˜•ìš©ì‚¬ ë³´ì–´ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ëª…ì‚¬ ë³´ì–´ (call)", q: `${varData.s_en} called her ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ë…€ë¥¼ ì²œì¬ë¼ê³  ë¶ˆë €ë‹¤.`, a: "a genius", w1: "as a genius", w2: "to a genius", w3: "be a genius", exp: "callì€ ëª…ì‚¬ ë³´ì–´ë¥¼ ë°”ë¡œ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "toë¶€ì •ì‚¬ (want)", q: `${varData.s_en} wanted us ________ inside ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ìš°ë¦¬ê°€ ì•ˆì— ë¨¸ë¬¼ê¸°ë¥¼ ì›í–ˆë‹¤.`, a: "to stay", w1: "stay", w2: "staying", w3: "stayed", exp: "wantëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "toë¶€ì •ì‚¬ (tell)", q: `${varData.s_en} told him ________ the work ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ì—ê²Œ ì¼ì„ ëë‚´ë¼ê³  ë§í–ˆë‹¤.`, a: "to finish", w1: "finish", w2: "finishing", w3: "finished", exp: "tellì€ ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "í˜•ìš©ì‚¬ ë³´ì–´ (make)", q: `${varData.s_en} made me ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ë‚˜ë¥¼ í–‰ë³µí•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.`, a: "happy", w1: "happily", w2: "to be happy", w3: "be happy", exp: "makeëŠ” ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í˜•ìš©ì‚¬ ë³´ì–´ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "toë¶€ì •ì‚¬ (ask)", q: `${varData.s_en} asked them ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ë“¤ì—ê²Œ ë„ì™€ë‹¬ë¼ê³  ìš”ì²­í–ˆë‹¤.`, a: "to help", w1: "help", w2: "helping", w3: "helped", exp: "askëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "toë¶€ì •ì‚¬ (allow)", q: `${varData.s_en} allowed her ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ë…€ê°€ ë– ë‚˜ëŠ” ê²ƒì„ í—ˆë½í–ˆë‹¤.`, a: "to leave", w1: "leave", w2: "leaving", w3: "left", exp: "allowëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "í˜•ìš©ì‚¬ ë³´ì–´ (find)", q: `${varData.s_en} found the book ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ ì±…ì´ í¥ë¯¸ë¡­ë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.`, a: "interesting", w1: "interestingly", w2: "interest", w3: "interested", exp: "findëŠ” ëª©ì ë³´ì–´ë¡œ í˜•ìš©ì‚¬(ë¶„ì‚¬)ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "toë¶€ì •ì‚¬ (order)", q: `${varData.s_en} ordered us ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ìš°ë¦¬ì—ê²Œ ë©ˆì¶”ë¼ê³  ëª…ë ¹í–ˆë‹¤.`, a: "to stop", w1: "stop", w2: "stopping", w3: "stopped", exp: "orderëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ëª…ì‚¬ ë³´ì–´ (name)", q: `${varData.s_en} named the project ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} í”„ë¡œì íŠ¸ ì´ë¦„ì„ ì•„í´ë¡œë¼ê³  ì§€ì—ˆë‹¤.`, a: "Apollo", w1: "as Apollo", w2: "to Apollo", w3: "be Apollo", exp: "nameì€ ëª…ì‚¬ ë³´ì–´ë¥¼ ë°”ë¡œ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "toë¶€ì •ì‚¬ (advise)", q: `${varData.s_en} advised him ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ì—ê²Œ íœ´ì‹ì„ ì·¨í•˜ë¼ê³  ì¡°ì–¸í–ˆë‹¤.`, a: "to rest", w1: "rest", w2: "resting", w3: "rested", exp: "adviseëŠ” ëª©ì ë³´ì–´ë¡œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ëª…ì‚¬ ë³´ì–´ (make)", q: `${varData.s_en} made him ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ë¥¼ ë¦¬ë”ë¡œ ë§Œë“¤ì—ˆë‹¤.`, a: "a leader", w1: "to a leader", w2: "as a leader", w3: "be a leader", exp: "makeëŠ” ëª©ì ë³´ì–´ë¡œ ëª…ì‚¬ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." }
                ];
                const item = types[i % 13];
                return {
                    type: item.t, question: item.q, translation: item.tr,
                    options: [
                        { text: item.a, isCorrect: true, explanation: item.exp },
                        { text: item.w1, isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì´ë‚˜ ë¶€ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." },
                        { text: item.w2, isCorrect: false, explanation: "V-ingë‚˜ ì „ì¹˜ì‚¬ëŠ” ì ì ˆí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." },
                        { text: item.w3, isCorrect: false, explanation: "ë¬¸ë§¥ì— ë§ì§€ ì•ŠëŠ” í˜•íƒœì…ë‹ˆë‹¤." }
                    ]
                };
            })
        ],
        // Set 2: ì‚¬ì—­/ì§€ê°/ì¤€ì‚¬ì—­ ë™ì‚¬ (150ì œ = ì›ë³¸ 20 + ìƒì„± 130)
        [
            // ì›ë³¸ 20ì œ (ì§€ì •ëœ ë™ì‚¬ë§Œ ì‚¬ìš©ë¨: make, let, have, see, watch, hear, get, help)
            { type: "ì‚¬ì—­ë™ì‚¬ (make)", question: "The boss made him ________ overtime.", translation: "ì‚¬ì¥ì€ ê·¸ì—ê²Œ ê°•ì œë¡œ ì´ˆê³¼ ê·¼ë¬´ë¥¼ í•˜ê²Œ í–ˆë‹¤.", options: [ { text: "work", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ makeëŠ” ëª©ì ë³´ì–´ë¡œ 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "to work", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "working", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "worked", isCorrect: false, explanation: "ëŠ¥ë™íƒœ ë¬¸ì¥ì´ë¯€ë¡œ í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (let)", question: "Her mother let her ________ to the party.", translation: "ê·¸ë…€ì˜ ì–´ë¨¸ë‹ˆëŠ” ê·¸ë…€ê°€ íŒŒí‹°ì— ê°€ëŠ” ê²ƒì„ í—ˆë½í–ˆë‹¤.", options: [ { text: "go", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ letì€ ëª©ì ë³´ì–´ë¡œ 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "to go", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "going", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "gone", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (have)", question: "I had the mechanic ________ my car.", translation: "ë‚˜ëŠ” ì •ë¹„ì‚¬ì—ê²Œ ë‚´ ì°¨ë¥¼ ìˆ˜ë¦¬í•˜ê²Œ ì‹œì¼°ë‹¤.", options: [ { text: "fix", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ have ëŠ¥ë™íƒœì—ì„œëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "to fix", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "fixing", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "fixed", isCorrect: false, explanation: "ì •ë¹„ì‚¬ê°€ ì§ì ‘ ê³ ì¹˜ëŠ” ëŠ¥ë™ì´ë¯€ë¡œ í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (see)", question: "I saw a man ________ into the building.", translation: "ë‚˜ëŠ” í•œ ë‚¨ìê°€ ê±´ë¬¼ ì•ˆìœ¼ë¡œ ë›°ì–´ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.", options: [ { text: "run", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ seeëŠ” ëª©ì ë³´ì–´ë¡œ 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "to run", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì ˆëŒ€ ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "runs", isCorrect: false, explanation: "í˜„ì¬ì‹œì œ ë™ì‚¬ ë³€í™”í˜•ì€ ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "ran", isCorrect: false, explanation: "ê³¼ê±°í˜•ì€ ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (watch)", question: "We watched the children ________ soccer.", translation: "ìš°ë¦¬ëŠ” ì•„ì´ë“¤ì´ ì¶•êµ¬í•˜ëŠ” ê²ƒì„ ì§€ì¼œë³´ì•˜ë‹¤.", options: [ { text: "playing", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ watchëŠ” ëª©ì ë³´ì–´ë¡œ 'V-ing'ë‚˜ 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "to play", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "played", isCorrect: false, explanation: "ëŠ¥ë™ì´ë¯€ë¡œ ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." }, { text: "plays", isCorrect: false, explanation: "ë‹¨ìˆ˜ ë³€í™”í˜•ì€ ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (hear)", question: "I heard someone ________ my name.", translation: "ë‚˜ëŠ” ëˆ„êµ°ê°€ê°€ ë‚´ ì´ë¦„ì„ ë¶€ë¥´ëŠ” ê²ƒì„ ë“¤ì—ˆë‹¤.", options: [ { text: "call", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ hearëŠ” ëª©ì ë³´ì–´ë¡œ 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "to call", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "called", isCorrect: false, explanation: "ëŠ¥ë™ì´ë¯€ë¡œ í‹€ë¦½ë‹ˆë‹¤." }, { text: "calls", isCorrect: false, explanation: "ë³€í™”í˜•ì€ ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ì¤€ì‚¬ì—­ë™ì‚¬ (get)", question: "I got my brother ________ my computer.", translation: "ë‚˜ëŠ” ë‚´ ë‚¨ë™ìƒì—ê²Œ ë‚´ ì»´í“¨í„°ë¥¼ ê³ ì¹˜ë„ë¡ í–ˆë‹¤.", options: [ { text: "to fix", isCorrect: true, explanation: "[ì£¼ì˜] ì¤€ì‚¬ì—­ë™ì‚¬ getì€ ëŠ¥ë™ì¼ ë•Œ ë°˜ë“œì‹œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "fix", isCorrect: false, explanation: "ì‚¬ì—­ë™ì‚¬ì™€ ë‹¬ë¦¬ ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "fixing", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "fixed", isCorrect: false, explanation: "ë™ìƒì´ ì§ì ‘ ê³ ì¹˜ëŠ” ê²ƒì´ë¯€ë¡œ ìˆ˜ë™ì´ ì•„ë‹™ë‹ˆë‹¤." } ] },
            { type: "ì¤€ì‚¬ì—­ë™ì‚¬ (help)", question: "She helped me ________ the heavy box.", translation: "ê·¸ë…€ëŠ” ë‚´ê°€ ë¬´ê±°ìš´ ìƒìë¥¼ ì˜®ê¸°ëŠ” ê²ƒì„ ë„ì™”ë‹¤.", options: [ { text: "carry", isCorrect: true, explanation: "helpëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (to ìƒëµ ê°€ëŠ¥)" }, { text: "carrying", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "carried", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." }, { text: "carries", isCorrect: false, explanation: "ë™ì‚¬ ë³€í™”í˜•ì€ ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (make)", question: "The sad movie made everyone ________.", translation: "ê·¸ ìŠ¬í”ˆ ì˜í™”ëŠ” ëª¨ë‘ë¥¼ ìš¸ê²Œ ë§Œë“¤ì—ˆë‹¤.", options: [ { text: "cry", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ makeëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "to cry", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "crying", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "cried", isCorrect: false, explanation: "ëŠ¥ë™ì´ë¯€ë¡œ ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (let)", question: "My father won't let me ________ his car.", translation: "ì•„ë²„ì§€ëŠ” ë‚´ê°€ ê·¸ì˜ ì°¨ë¥¼ ìš´ì „í•˜ëŠ” ê²ƒì„ í—ˆë½í•˜ì§€ ì•Šìœ¼ì‹¤ ê²ƒì´ë‹¤.", options: [ { text: "drive", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ letì€ 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." }, { text: "to drive", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "driving", isCorrect: false, explanation: "V-ingëŠ” ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "driven", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (have)", question: "She had her students ________ an essay.", translation: "ê·¸ë…€ëŠ” í•™ìƒë“¤ì—ê²Œ ì—ì„¸ì´ë¥¼ ì“°ê²Œ ì‹œì¼°ë‹¤.", options: [ { text: "write", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ have ëŠ¥ë™í˜•ì€ 'ë™ì‚¬ì›í˜•'ì„ ì”ë‹ˆë‹¤." }, { text: "to write", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "writing", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "written", isCorrect: false, explanation: "í•™ìƒë“¤ì´ ì§ì ‘ ì“°ë¯€ë¡œ ìˆ˜ë™í˜•ì€ í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (see)", question: "I saw the thief ________ the bag.", translation: "ë‚˜ëŠ” ë„ë‘‘ì´ ê°€ë°©ì„ í›”ì¹˜ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.", options: [ { text: "steal", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ seeëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì”ë‹ˆë‹¤." }, { text: "to steal", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "stolen", isCorrect: false, explanation: "ë„ë‘‘ì´ ì§ì ‘ í›”ì¹˜ë¯€ë¡œ ëŠ¥ë™íƒœì…ë‹ˆë‹¤." }, { text: "steals", isCorrect: false, explanation: "ë‹¨ìˆ˜ ë³€í™”í˜•ì€ í‹€ë¦½ë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (watch)", question: "We watched the sun ________.", translation: "ìš°ë¦¬ëŠ” í•´ê°€ ì§€ëŠ” ê²ƒì„ ì§€ì¼œë³´ì•˜ë‹¤.", options: [ { text: "set", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ watch ë’¤ì— 'ë™ì‚¬ì›í˜•'ì´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤." }, { text: "to set", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "sets", isCorrect: false, explanation: "ë™ì‚¬ ë³€í™”í˜•ì€ ì•ˆ ë©ë‹ˆë‹¤." }, { text: "is setting", isCorrect: false, explanation: "ë¬¸ë§¥ìƒ ë§ì§€ ì•ŠëŠ” ë™ì‚¬í˜•ì…ë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (hear)", question: "She heard the baby ________ in the next room.", translation: "ê·¸ë…€ëŠ” ì˜†ë°©ì—ì„œ ì•„ê¸°ê°€ ìš°ëŠ” ê²ƒì„ ë“¤ì—ˆë‹¤.", options: [ { text: "crying", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ hearëŠ” 'V-ing'ë¥¼ ì·¨í•´ ì§„í–‰ì˜ ì˜ë¯¸ë¥¼ ê°•ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." }, { text: "to cry", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "cries", isCorrect: false, explanation: "ë‹¨ìˆ˜ ë³€í™”í˜•ì€ ì•ˆ ë©ë‹ˆë‹¤." }, { text: "cried", isCorrect: false, explanation: "ì•„ê¸°ê°€ ìŠ¤ìŠ¤ë¡œ ìš¸ê³  ìˆìœ¼ë¯€ë¡œ ìˆ˜ë™ì´ ì•„ë‹™ë‹ˆë‹¤." } ] },
            { type: "ì¤€ì‚¬ì—­ë™ì‚¬ (get)", question: "He got his friend ________ him some money.", translation: "ê·¸ëŠ” ì¹œêµ¬ì—ê²Œ ëˆì„ ì¢€ ë¹Œë ¤ë‹¬ë¼ê³  (ì„¤ë“í•˜ì—¬) í•˜ê²Œ í–ˆë‹¤.", options: [ { text: "to lend", isCorrect: true, explanation: "[ì£¼ì˜] getì€ ì˜ë¯¸ìƒ ì‚¬ì—­ì´ì§€ë§Œ í˜•íƒœìƒ ë°˜ë“œì‹œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "lend", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì€ ì•ˆ ë©ë‹ˆë‹¤." }, { text: "lending", isCorrect: false, explanation: "V-ingëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "lent", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” ì•ˆ ë©ë‹ˆë‹¤." } ] },
            { type: "ì¤€ì‚¬ì—­ë™ì‚¬ (help)", question: "My friend helped me ________ the math problem.", translation: "ë‚´ ì¹œêµ¬ëŠ” ë‚´ê°€ ìˆ˜í•™ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²ƒì„ ë„ì™€ì£¼ì—ˆë‹¤.", options: [ { text: "solve", isCorrect: true, explanation: "helpëŠ” 'ë™ì‚¬ì›í˜•' í˜¹ì€ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "solving", isCorrect: false, explanation: "V-ingëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "solved", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }, { text: "solves", isCorrect: false, explanation: "ë™ì‚¬ ë³€í™”í˜•ì€ ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (make)", question: "The funny clown made the kids ________.", translation: "ê·¸ ì›ƒê¸´ í”¼ì—ë¡œëŠ” ì•„ì´ë“¤ì„ ì›ƒê²Œ ë§Œë“¤ì—ˆë‹¤.", options: [ { text: "laugh", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ makeëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì”ë‹ˆë‹¤." }, { text: "to laugh", isCorrect: false, explanation: "toë¶€ì •ì‚¬ë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "laughing", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "laughed", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "ì‚¬ì—­ë™ì‚¬ (let)", question: "Let him ________ what he wants.", translation: "ê·¸ê°€ ì›í•˜ëŠ” ê²ƒì„ í•˜ë„ë¡ ë‚´ë²„ë ¤ ë‘ì–´ë¼.", options: [ { text: "do", isCorrect: true, explanation: "ì‚¬ì—­ë™ì‚¬ letì€ 'ë™ì‚¬ì›í˜•'ì„ ì”ë‹ˆë‹¤." }, { text: "to do", isCorrect: false, explanation: "toë¶€ì •ì‚¬ë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "doing", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "does", isCorrect: false, explanation: "ë™ì‚¬ ë³€í™”í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "ì§€ê°ë™ì‚¬ (hear)", question: "Did you hear the phone ________?", translation: "ë„ˆ ì „í™”ê¸° ìš¸ë¦¬ëŠ” ì†Œë¦¬ ë“¤ì—ˆì–´?", options: [ { text: "ring", isCorrect: true, explanation: "ì§€ê°ë™ì‚¬ hearëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì”ë‹ˆë‹¤." }, { text: "to ring", isCorrect: false, explanation: "toë¶€ì •ì‚¬ëŠ” ì•ˆ ë©ë‹ˆë‹¤." }, { text: "rang", isCorrect: false, explanation: "ê³¼ê±°í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "rings", isCorrect: false, explanation: "ë™ì‚¬ ë³€í™”í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." } ] },
            { type: "ì¤€ì‚¬ì—­ë™ì‚¬ (get)", question: "I couldn't get the machine ________.", translation: "ë‚˜ëŠ” ê·¸ ê¸°ê³„ê°€ ì‘ë™í•˜ê²Œ ë§Œë“¤ ìˆ˜ ì—†ì—ˆë‹¤.", options: [ { text: "to work", isCorrect: true, explanation: "[ì£¼ì˜] getì€ ëŠ¥ë™ ê´€ê³„ì¼ ë•Œ ë°˜ë“œì‹œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }, { text: "work", isCorrect: false, explanation: "ë™ì‚¬ì›í˜•ì„ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "working", isCorrect: false, explanation: "V-ingë¥¼ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤." }, { text: "worked", isCorrect: false, explanation: "ê³¼ê±°ë¶„ì‚¬ëŠ” ì–´ìƒ‰í•©ë‹ˆë‹¤." } ] },
            
            // 130ì œ ë™ì  ìƒì„± (13ê°œ íŒ¨í„´ x 10ê°€ì§€ ì£¼ì–´/ìƒí™© = 130ë¬¸í•­, ì˜¤ì§ ì§€ì •ëœ ë™ì‚¬ë§Œ ì‚¬ìš©ë¨)
            ...Array.from({length: 130}).map((_, i) => {
                const varData = variations[Math.floor(i / 13) % 10];
                const types = [
                    { t: "ì‚¬ì—­ë™ì‚¬ (make)", q: `${varData.s_en} made him ________ overtime ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ì—ê²Œ ê°•ì œë¡œ ì´ˆê³¼ ê·¼ë¬´ë¥¼ í•˜ê²Œ í–ˆë‹¤.`, a: "work", w1: "to work", w2: "working", w3: "worked", exp: "ì‚¬ì—­ë™ì‚¬ makeëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì‚¬ì—­ë™ì‚¬ (let)", q: `${varData.s_en} let her ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ë…€ê°€ ê°€ëŠ” ê²ƒì„ í—ˆë½í–ˆë‹¤.`, a: "go", w1: "to go", w2: "going", w3: "gone", exp: "ì‚¬ì—­ë™ì‚¬ letì€ 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì‚¬ì—­ë™ì‚¬ (have)", q: `${varData.s_en} had the assistant ________ you ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ë¹„ì„œê°€ ë‹¹ì‹ ì—ê²Œ ì „í™”í•˜ë„ë¡ ì‹œì¼°ë‹¤.`, a: "call", w1: "to call", w2: "calling", w3: "called", exp: "ì‚¬ì—­ë™ì‚¬ have ëŠ¥ë™íƒœëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì§€ê°ë™ì‚¬ (see)", q: `${varData.s_en} saw the man ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} í•œ ë‚¨ìê°€ ë›°ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.`, a: "run", w1: "to run", w2: "ran", w3: "runs", exp: "ì§€ê°ë™ì‚¬ seeëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì¤€ì‚¬ì—­ë™ì‚¬ (get)", q: `${varData.s_en} got him ________ his mind ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ê°€ ë§ˆìŒì„ ë°”ê¾¸ë„ë¡ ì„¤ë“í–ˆë‹¤.`, a: "to change", w1: "change", w2: "changing", w3: "changed", exp: "getì€ ëŠ¥ë™ì˜ ì˜ë¯¸ì¼ ë•Œ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì¤€ì‚¬ì—­ë™ì‚¬ (help)", q: `${varData.s_en} helped us ________ the box ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ìš°ë¦¬ê°€ ìƒìë¥¼ ì˜®ê¸°ëŠ” ê²ƒì„ ë„ì™”ë‹¤.`, a: "carry", w1: "carrying", w2: "carried", w3: "carries", exp: "helpëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì§€ê°ë™ì‚¬ (watch)", q: `${varData.s_en} watched them ________ soccer ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ê·¸ë“¤ì´ ì¶•êµ¬í•˜ëŠ” ê²ƒì„ ì§€ì¼œë³´ì•˜ë‹¤.`, a: "play", w1: "to play", w2: "played", w3: "plays", exp: "ì§€ê°ë™ì‚¬ watchëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì§€ê°ë™ì‚¬ (hear)", q: `${varData.s_en} heard the baby ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ì•„ê¸°ê°€ ìš°ëŠ” ê²ƒì„ ë“¤ì—ˆë‹¤.`, a: "cry", w1: "to cry", w2: "cried", w3: "cries", exp: "ì§€ê°ë™ì‚¬ hearëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì‚¬ì—­ë™ì‚¬ (make)", q: `${varData.s_en} made everyone ________ ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ëª¨ë‘ë¥¼ ì›ƒê²Œ ë§Œë“¤ì—ˆë‹¤.`, a: "laugh", w1: "to laugh", w2: "laughing", w3: "laughed", exp: "ì‚¬ì—­ë™ì‚¬ makeëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì‚¬ì—­ë™ì‚¬ (let)", q: `${varData.s_en} let me ________ the car ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ë‚´ê°€ ì°¨ë¥¼ ìš´ì „í•˜ê²Œ í•´ì£¼ì—ˆë‹¤.`, a: "drive", w1: "to drive", w2: "driving", w3: "driven", exp: "ì‚¬ì—­ë™ì‚¬ letì€ 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì‚¬ì—­ë™ì‚¬ (have)", q: `${varData.s_en} had the team ________ the report ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} íŒ€ì´ ë³´ê³ ì„œë¥¼ ëë‚´ê²Œ ì‹œì¼°ë‹¤.`, a: "finish", w1: "to finish", w2: "finishing", w3: "finished", exp: "ì‚¬ì—­ë™ì‚¬ have ëŠ¥ë™íƒœëŠ” 'ë™ì‚¬ì›í˜•'ì„ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì§€ê°ë™ì‚¬ (see)", q: `${varData.s_en} saw the thief ________ the bag ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ë„ë‘‘ì´ ê°€ë°©ì„ í›”ì¹˜ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.`, a: "steal", w1: "to steal", w2: "stolen", w3: "steals", exp: "ì§€ê°ë™ì‚¬ seeëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'V-ing'ë¥¼ ì·¨í•©ë‹ˆë‹¤." },
                    { t: "ì¤€ì‚¬ì—­ë™ì‚¬ (help)", q: `${varData.s_en} helped me ________ the problem ${varData.c_en}.`, tr: `${varData.s_ko} ${varData.c_ko} ë‚´ê°€ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²ƒì„ ë„ì™”ë‹¤.`, a: "solve", w1: "solving", w2: "solved", w3: "solves", exp: "helpëŠ” 'ë™ì‚¬ì›í˜•'ì´ë‚˜ 'toë¶€ì •ì‚¬'ë¥¼ ì·¨í•©ë‹ˆë‹¤." }
                ];
                const item = types[i % 13];
                return {
                    type: item.t, question: item.q, translation: item.tr,
                    options: [
                        { text: item.a, isCorrect: true, explanation: item.exp },
                        { text: item.w1, isCorrect: false, explanation: "toë¶€ì •ì‚¬ë‚˜ ë‹¤ë¥¸ ì‹œì œëŠ” ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." },
                        { text: item.w2, isCorrect: false, explanation: "ìˆ˜ë™íƒœê°€ ì•„ë‹ˆë¯€ë¡œ ê³¼ê±°ë¶„ì‚¬ëŠ” í‹€ë¦½ë‹ˆë‹¤." },
                        { text: item.w3, isCorrect: false, explanation: "ë™ì‚¬ì˜ ë‹¨ìˆ˜/ê³¼ê±° ë³€í™”í˜•ì€ ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." }
                    ]
                };
            })
        ]
    ];

    const allSets = baseSets.map(set => {
        let expandedSet = [];
        while (expandedSet.length < 200) {
            expandedSet = expandedSet.concat(set);
        }
        return expandedSet.slice(0, 200); 
    });

    const setNames = ["Set 1: ê¸°ë³¸ ë³´ì–´ & To-v í•„ìˆ˜ ë™ì‚¬", "Set 2: ì‚¬ì—­/ì§€ê°/ì¤€ì‚¬ì—­ ë™ì‚¬"];
    const QUESTIONS_PER_ROUND = 10; 

    let currentQuestions = [];
    let currentQIndex = 0;
    let score = 0;
    
    let sessionWrongAnswers = []; 
    let globalWrongAnswers = [];  

    // â˜… ì¿¨ë‹¤ìš´ í (ìµœê·¼ 3íšŒ í…ŒìŠ¤íŠ¸ì— ì¶œì œëœ ë¬¸ì œì˜ 'ì§ˆë¬¸' í…ìŠ¤íŠ¸ë¥¼ ì €ì¥)
    let testHistory = []; 

    let isReviewMode = false;
    let timerInterval;
    let timeLeft = 15;
    const TIME_LIMIT = 15;

    let donutChartInst = null;
    let barChartInst = null;

    const setSelectionEl = document.getElementById('set-selection');
    const quizScreenEl = document.getElementById('quiz-screen');
    const resultScreenEl = document.getElementById('result-screen');
    const setButtonsEl = document.getElementById('set-buttons');
    const qTypeEl = document.getElementById('q-type');
    const qProgressEl = document.getElementById('q-progress');
    const qTextEl = document.getElementById('q-text');
    const optionsContainer = document.getElementById('options-container');
    const feedbackEl = document.getElementById('feedback');
    const nextBtn = document.getElementById('next-btn');
    const timerBar = document.getElementById('timer-bar');
    const timeTextEl = document.getElementById('time-text');
    const quitBtnEl = document.getElementById('quit-btn');

    function shuffleArray(array) {
        let shuffled = [...array];
        for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
        return shuffled;
    }

    function updateMainReviewBtn() {
        const reviewControls = document.getElementById('review-controls');
        const countSpan = document.getElementById('wrong-count');
        
        if (globalWrongAnswers.length > 0) {
            reviewControls.style.display = 'flex';
            countSpan.innerText = globalWrongAnswers.length;
        } else {
            reviewControls.style.display = 'none';
        }
    }

    // í™•ì¸ì°½(confirm) ì œê±°ë¨
    function resetWrongAnswers() {
        globalWrongAnswers = [];
        updateMainReviewBtn();
    }

    function initApp() {
        setButtonsEl.innerHTML = '';
        allSets.forEach((set, i) => {
            const btn = document.createElement('button');
            btn.className = 'set-btn';
            btn.innerHTML = `<span>${setNames[i]}</span><span class="set-desc">ë¬¸ì œì€í–‰ ë¬´ì‘ìœ„ 10ì œ ğŸ²</span>`;
            btn.onclick = () => startSet(i);
            setButtonsEl.appendChild(btn);
        });
        updateMainReviewBtn();
    }

    function startSet(index) {
        // â˜… ì¿¨ë‹¤ìš´ ë¡œì§ ì ìš©: ìµœê·¼ 3íšŒ ì¶œì œëœ ë¬¸í•­ ë°°ì œ
        const blockedQuestions = testHistory.flat();
        let availablePool = allSets[index].filter(q => !blockedQuestions.includes(q.question));
        
        // ì¿¨ë‹¤ìš´ìœ¼ë¡œ ì¸í•´ ë¬¸ì œê°€ ë¶€ì¡±í•´ì§ˆ ë¹„ìƒ ìƒí™© ëŒ€ë¹„
        if (availablePool.length < QUESTIONS_PER_ROUND) {
            availablePool = allSets[index]; 
        }

        let shuffledPool = shuffleArray(availablePool);
        
        // í˜„ì¬ ë¼ìš´ë“œ ë‚´ì—ì„œ ì¤‘ë³µ ì¶œì œ ë°©ì§€
        let selected = [];
        for (let q of shuffledPool) {
            if (!selected.some(sq => sq.question === q.question)) {
                selected.push(q);
            }
            if (selected.length === QUESTIONS_PER_ROUND) break;
        }

        currentQuestions = selected;

        // â˜… í…ŒìŠ¤íŠ¸ íˆìŠ¤í† ë¦¬ì— í˜„ì¬ ë¬¸ì œë“¤ ì¶”ê°€ ë° ì˜¤ë˜ëœ ê¸°ë¡ ì‚­ì œ (3íšŒ ì œí•œ ìœ ì§€)
        testHistory.push(currentQuestions.map(q => q.question));
        if (testHistory.length > 3) {
            testHistory.shift();
        }

        isReviewMode = false;
        resetQuizState();
        setSelectionEl.style.display = 'none';
        quizScreenEl.style.display = 'block';
        quitBtnEl.style.display = 'block'; 
        loadQuestion();
    }

    function startMainReview() {
        if (globalWrongAnswers.length === 0) return;
        currentQuestions = shuffleArray([...globalWrongAnswers]);
        isReviewMode = true;
        resetQuizState();
        setSelectionEl.style.display = 'none';
        quizScreenEl.style.display = 'block';
        quitBtnEl.style.display = 'block'; 
        loadQuestion();
    }

    function startReview() {
        currentQuestions = [...sessionWrongAnswers];
        isReviewMode = true;
        resetQuizState();
        resultScreenEl.style.display = 'none';
        quizScreenEl.style.display = 'block';
        quitBtnEl.style.display = 'block'; 
        loadQuestion();
    }

    // í™•ì¸ì°½(confirm) ì œê±°ë¨
    function quitQuiz() {
        clearInterval(timerInterval);
        goToMain();
    }

    function resetQuizState() {
        currentQIndex = 0;
        score = 0;
        sessionWrongAnswers = [];
    }

    function loadQuestion() {
        clearInterval(timerInterval);
        feedbackEl.style.display = 'none';
        nextBtn.style.display = 'none';
        optionsContainer.innerHTML = '';
        
        const currentQ = currentQuestions[currentQIndex];
        qTypeEl.textContent = isReviewMode ? `[ì˜¤ë‹µë³µìŠµ] ${currentQ.type}` : currentQ.type;
        qProgressEl.textContent = `${currentQIndex + 1} / ${currentQuestions.length}`;
        qTextEl.innerText = currentQ.question;

        let shuffledOptions = shuffleArray(currentQ.options);

        shuffledOptions.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = `${index + 1}. ${option.text}`;
            btn.onclick = () => checkAnswer(option, btn, shuffledOptions);
            optionsContainer.appendChild(btn);
        });

        startTimer();
    }

    function startTimer() {
        timeLeft = TIME_LIMIT;
        updateTimerUI();
        timerBar.classList.remove('warning', 'danger');
        timeTextEl.classList.remove('warning', 'danger');

        timerInterval = setInterval(() => {
            timeLeft--;
            updateTimerUI();

            if (timeLeft <= 5 && timeLeft > 2) {
                timerBar.classList.add('warning');
                timeTextEl.classList.add('warning');
            } else if (timeLeft <= 2) {
                timerBar.classList.remove('warning');
                timeTextEl.classList.remove('warning');
                timerBar.classList.add('danger');
                timeTextEl.classList.add('danger');
            }

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timeOut();
            }
        }, 1000);
    }

    function updateTimerUI() {
        timeTextEl.innerText = `${timeLeft}ì´ˆ`;
        timerBar.style.width = `${(timeLeft / TIME_LIMIT) * 100}%`;
    }

    function timeOut() {
        const currentQ = currentQuestions[currentQIndex];
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(btn => btn.disabled = true);
        
        let correctBtnIndex = -1;
        let correctOption = null;
        
        const optionsInDOM = Array.from(optionsContainer.children);
        optionsInDOM.forEach((btn, idx) => {
            const btnText = btn.textContent.substring(3);
            const opt = currentQ.options.find(o => o.text === btnText);
            if(opt && opt.isCorrect) {
                correctBtnIndex = idx;
                correctOption = opt;
            }
        });

        sessionWrongAnswers.push(currentQ);
        if (!globalWrongAnswers.some(q => q.question === currentQ.question)) {
            globalWrongAnswers.push(currentQ);
        }

        if(correctBtnIndex !== -1) allBtns[correctBtnIndex].classList.add('correct');

        feedbackEl.innerHTML = `
            <div class="feedback-title" style="color: #b91c1c;">â° ì‹œê°„ ì´ˆê³¼!</div>
            <div class="explanation-box exp-translate">
                <strong>[ë¬¸ì¥ í•´ì„]</strong><br> ${currentQ.translation}
            </div>
            <div class="explanation-box exp-correct">
                <strong>[ì§„ì§œ ì •ë‹µ: ${correctOption.text}] ë§ëŠ” ì´ìœ :</strong><br> ${correctOption.explanation}
            </div>
        `;
        feedbackEl.style.display = 'block';
        nextBtn.style.display = 'block';
    }

    function checkAnswer(selectedOption, selectedBtn, currentlyShuffledOptions) {
        clearInterval(timerInterval);
        const currentQ = currentQuestions[currentQIndex];
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(btn => btn.disabled = true);

        const correctOption = currentlyShuffledOptions.find(opt => opt.isCorrect);
        const correctBtnIndex = currentlyShuffledOptions.findIndex(opt => opt.isCorrect);

        if (selectedOption.isCorrect) {
            selectedBtn.classList.add('correct');
            score++;

            globalWrongAnswers = globalWrongAnswers.filter(q => q.question !== currentQ.question);

            feedbackEl.innerHTML = `
                <div class="feedback-title" style="color: #15803d;">âœ… ì •ë‹µì…ë‹ˆë‹¤!</div>
                <div class="explanation-box exp-translate">
                    <strong>[ë¬¸ì¥ í•´ì„]</strong><br> ${currentQ.translation}
                </div>
                <div class="explanation-box exp-correct">
                    <strong>[ì´ìœ ]</strong> ${selectedOption.explanation}
                </div>
            `;
        } else {
            selectedBtn.classList.add('wrong');
            allBtns[correctBtnIndex].classList.add('correct');
            
            sessionWrongAnswers.push(currentQ);
            if (!globalWrongAnswers.some(q => q.question === currentQ.question)) {
                globalWrongAnswers.push(currentQ);
            }

            feedbackEl.innerHTML = `
                <div class="feedback-title" style="color: #b91c1c;">âŒ ì˜¤ë‹µì…ë‹ˆë‹¤.</div>
                <div class="explanation-box exp-translate">
                    <strong>[ë¬¸ì¥ í•´ì„]</strong><br> ${currentQ.translation}
                </div>
                <div class="explanation-box exp-wrong">
                    <strong>[ì„ íƒí•œ ì˜¤ë‹µ: ${selectedOption.text}] í‹€ë¦° ì´ìœ :</strong><br> ${selectedOption.explanation}
                </div>
                <div class="explanation-box exp-correct">
                    <strong>[ì§„ì§œ ì •ë‹µ: ${correctOption.text}] ë§ëŠ” ì´ìœ :</strong><br> ${correctOption.explanation}
                </div>
            `;
        }
        feedbackEl.style.display = 'block';
        nextBtn.style.display = 'block';
    }

    function nextQuestion() {
        currentQIndex++;
        if (currentQIndex < currentQuestions.length) loadQuestion();
        else showResult();
    }

    function renderCharts(correctCount, wrongCount) {
        const donutCtx = document.getElementById('donutChart').getContext('2d');
        const barCtx = document.getElementById('barChart').getContext('2d');

        if (donutChartInst) donutChartInst.destroy();
        if (barChartInst) barChartInst.destroy();

        donutChartInst = new Chart(donutCtx, {
            type: 'doughnut',
            data: {
                labels: ['ì •ë‹µ', 'ì˜¤ë‹µ'],
                datasets: [{
                    data: [correctCount, wrongCount],
                    backgroundColor: ['#10b981', '#ef4444'],
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    title: { display: true, text: 'ì •ë‹µ ë¹„ìœ¨ (ë„ë„› ì°¨íŠ¸)' }
                }
            }
        });

        barChartInst = new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['ê²°ê³¼ í†µê³„'],
                datasets: [
                    {
                        label: 'ì •ë‹µ ìˆ˜',
                        data: [correctCount],
                        backgroundColor: '#10b981',
                        borderRadius: 5
                    },
                    {
                        label: 'ì˜¤ë‹µ ìˆ˜',
                        data: [wrongCount],
                        backgroundColor: '#ef4444',
                        borderRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: { stepSize: 1 }
                    }
                },
                plugins: {
                    legend: { position: 'bottom' },
                    title: { display: true, text: 'ì •ë‹µ ìˆ˜ì¹˜ (ë§‰ëŒ€ ì°¨íŠ¸)' }
                }
            }
        });
    }

    function showResult() {
        quizScreenEl.style.display = 'none';
        quitBtnEl.style.display = 'none'; 
        resultScreenEl.style.display = 'block';
        
        document.getElementById('final-score').innerText = `ì´ ${currentQuestions.length}ë¬¸ì œ ì¤‘ ${score}ë¬¸ì œ ì •ë‹µ!`;
        const msgEl = document.getElementById('result-msg');
        const reviewBtn = document.getElementById('review-btn');
        
        renderCharts(score, sessionWrongAnswers.length);

        if (score === currentQuestions.length) {
            document.getElementById('result-title').innerText = "ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤!";
            msgEl.innerText = "ì´ë²ˆì— ë½‘íŒ ë¬¸ì œë“¤ì„ ì™„ë²½í•˜ê²Œ ë§ˆìŠ¤í„°í•˜ì…¨ë„¤ìš”! ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ì„œ ìƒˆë¡œìš´ ë¬¸ì œì— ë„ì „í•´ ë³´ì„¸ìš”.";
            reviewBtn.style.display = 'none';
        } else {
            document.getElementById('result-title').innerText = "í›ˆë ¨ ì™„ë£Œ";
            msgEl.innerText = `${sessionWrongAnswers.length}ë¬¸ì œë¥¼ ì•„ì‰½ê²Œ ë†“ì³¤ìŠµë‹ˆë‹¤. ë³µìŠµì„ í†µí•´ ì·¨ì•½ì ì„ ë³´ì™„í•˜ì„¸ìš”.`;
            reviewBtn.style.display = 'block';
        }
    }

    function goToMain() {
        resultScreenEl.style.display = 'none';
        quizScreenEl.style.display = 'none';
        quitBtnEl.style.display = 'none'; 
        setSelectionEl.style.display = 'block';
        updateMainReviewBtn(); 
    }

    window.onload = initApp;
</script>

</body>
</html>